---
redirect_from:
  - "/reana/workflow-setup"
title: |-
  Get the Workflow
pagenum: 26
prev_page:
  url: /reana/demo_video.html
next_page:
  url: /reana/parametrization.html
suffix: .md
search: workflow madminer scailfin github com ml ph clone different event part sub workflows default repositories generation simulation locally git example modify models split into containing detector training inference both complete separate own multiple setup running bash also physics machine learning configuration files image responsible three currently wrapping parts construct distribution wrapper around allows us those executable researchers option run particular times parameters without having deal order just repository wrapped recurse submodules command inside modules folder install separately want interact manner define change process interested events generate settings choose strategies etc section titled parametrize parametrization describe research purposes skip straight executing

comment: "***PROGRAMMATICALLY GENERATED, DO NOT EDIT. SEE ORIGINAL FILES IN /content***"
---

    <main class="jupyter-page">
    <div id="page-info"><div id="page-title">Get the Workflow</div>
</div>
    
<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Workflow-repositories">Workflow repositories<a class="anchor-link" href="#Workflow-repositories"> </a></h2><p>The workflow is currently split into 3 different GitHub repositories:</p>
<ul>
<li><a href="https://github.com/scailfin/madminer-workflow-ph">Scailfin/madminer-workflow-ph</a>: containing the event generation and detector simulation part.</li>
<li><a href="https://github.com/scailfin/madminer-workflow-ml">Scailfin/madminer-workflow-ml</a>: containing the ML training and inference part.</li>
<li><a href="https://github.com/scailfin/madminer-workflow">Scailfin/madminer-workflow</a>: wrapping both parts to construct the complete workflow.</li>
</ul>
<p>The distribution of the workflow into 2 separate sub-workflows (PH and ML) with a wrapper around them, allows us to make both of those sub-workflow <strong>locally</strong> executable on their own. This way, researchers have the option to <strong>locally</strong> run a particular part of the complete workflow multiple times, and with different parameters, without having to deal with the other part.</p>
<h2 id="Workflow-setup">Workflow setup<a class="anchor-link" href="#Workflow-setup"> </a></h2><p>In order to setup the workflow locally, you can just clone the <a href="https://github.com/scailfin/madminer-workflow">madminer-workflow</a> repository,  as long as the two wrapped sub-workflows by running:</p>
<div class="highlight"><pre><span></span>git clone --recurse-submodules https://github.com/scailfin/madminer-workflow
</pre></div>
<p>This command will also clone the physics (PH) and machine learning (ML) sub-workflows inside the modules folder. You can also install them separately (if you want to interact with them in a separate manner), by running:</p>
<div class="highlight"><pre><span></span>git clone https://github.com/scailfin/madminer-workflow-ml
git clone https://github.com/scailfin/madminer-workflow-ph
</pre></div>
<h2 id="The-default-example">The default example<a class="anchor-link" href="#The-default-example"> </a></h2><p>These repositories define a default workflow as an example, but you would modify the configuration files to change the physics process that you are interested in, the number of events to generate, modify the detector simulation settings, choose which machine learning models and inference strategies you would like to use, etc. In the section titled <a href="parametrization">Parametrize the workflow</a>, we describe how to modify the workflow's configuration files for your own research purposes. You can skip that for now and go straight to executing the default example workflow.</p>
<p>The image below shows the default workflow. The first blue boxes labeled <code>workflow_ph[0]</code> is responsible for event generation with MadGraph and simulation with Delphes, which is parallelized across 6 different event-generation jobs.  It is followed by a combine step that produces a single large data file with the information needed to for training (including the event weights for multiple EFT parameter points). The <code>workflow_ml[0]</code> is responsible the ML portions, and it performs a test/train/validate split and trains three different models (for the SALLY, ALICE, and ALICES methods). Later it evaluates each of the three trained models and concludes with a plotting stage.</p>
<p><img src="../images/workflow-all.png" alt="image of the workflow"></p>

</div>
</div>
</div>
</div>

 


    </main>
    